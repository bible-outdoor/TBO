<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Login | The Bible Outdoor</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="../assets/favicon.ico" />
  <link rel="stylesheet" href="admin.css">
</head>
<body>
  <div class="admin-login-container">
    <div style="display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 420px;">
      <!-- Invitation info, hidden by default, shown if token is present -->
      <div id="invitationInfo" style="display:none; margin-bottom:16px; background:#e6f7ff; border:1px solid #91d5ff; padding:12px 16px; border-radius:7px; color:#222; font-size:1.04em; text-align:center;">
        <strong>Welcome!</strong> Please login using the default password provided in your invitation email. This link will expire in 30 minutes.
      </div>
      <div id="sessionExpiredMsg" style="display:none; margin-bottom:16px; background:#fff3cd; border:1px solid #ffeeba; padding:12px 16px; border-radius:7px; color:#856404; font-size:1.04em; text-align:center;"></div>
      <form class="admin-login-form" id="adminLoginForm" autocomplete="off">
        <h2 id="formTitle">Admin Login</h2>
        <input type="email" id="adminEmail" placeholder="Gmail address" required>
        <input type="password" id="adminPass" placeholder="Password" required>
        <button type="submit" id="formBtn">Login</button>
        <div class="admin-login-msg" id="adminLoginMsg"></div>
        <div class="default-info"></div>
      </form>
    </div>
  </div>
  <script src="admin.js"></script>
  <script>
    // Show invitation info if token is present in URL
    if (window.location.search.includes('token=')) {
      document.getElementById ('invitationInfo').style.display = 'block';
    }
    // Show session expired message if msg=session_expired
    const params = new URLSearchParams(window.location.search);
    if (params.get('msg') === 'session_expired') {
      const msgDiv = document.getElementById('sessionExpiredMsg');
      if (msgDiv) {
        msgDiv.textContent = 'Session expired. Please log in again.';
        msgDiv.style.display = 'block';
      }
    }
  </script>
</body>
</html>